# YAML语法规范

### 组织结构

YAML文件可以由一或多个文档组成\(也即相对独立的组织结构组成\),文档间使用**“---”**\(三个横线\)在每文档开始作为分隔符.同时,文档也可以使用“...”\(三个点号\)作为结束符\(可选\).

```
---
invoice: 34843
date: "2001-01-23"
bill-to:
  given: Chris
  family: Dumars
  address:
    lines: '458 Walkman Dr.Suite #292'
    city: Royal Oak
    state: MI
    postal: 48046
...
---
ship-to:
  given: Chris
  family: Dumars
  address:
    lines: '458 Walkman Dr.Suite #292'
    city: Royal Oak
    state: MI
    postal: 48046
...
```

* 如果只是单个文档,分隔符**“---”**可以省略
* 文档结束符**“...”**不是必须的.\(但是对于网络传输或者流来说,作为明确结束的符号,有利于软件处理\)

#### YAML支持的三种数据结构

* 标量:单个的、不可再分的值,又称为纯量\(scalars\)
* 序列:一组按次序排列的值,又称为序列\(sequence\)/列表\(list\)
* 对象:键值对的集合,又称为映射\(mapping\)/哈希\(hashes\)/字典\(dictionary\)

### 编写规范

* **规范一** : 文档使用 Unicode 编码作为字符标准编码,例如 UTF-8
* **规范二** : 使用“\#”来表示注释内容

```
# 客户订单
date: 2015-02-01
customer:
  - name: Jai
items:
  - no: 1234 # 订单号
  - descript: cpu
```

* **规范三** : 使用空格作为嵌套缩进工具.通常建议使用两个空格缩进,不建议使用tab\(甚至不支持\)
* **规范四** : 序列表示
  * 使用“-”\(横线\) + 单个空格表示单个列表项

    ```
    --- # 文档开始
    - 第一章 简介
    - 第二章 设计目录
    ```

  * 使用"\[\]"表示一组数据

    ```
    --- # 文档开始
    [blue, red, green]
    ```

  * 组合表示.每个结构都可以嵌套组成复杂的表示结构.

    ```
    --- # 文档开始
    - [blue, red, green] # 列表项本身也是一个列表
    - [Age, Bag]
    - site: {osc:www.oschina.net, baidu: www.baidu.com} # 这里是同{键值表}组合表示
    ```
* **规范五** : 键值表
  * 使用“:”\(冒号\) + 空格表示单个键值对

    ```
    # 客户订单
    date: 2015-02-01
    customer:
      - name: Jai
    items:
      - no: 1234 # 订单号
      - descript: cpu
      - price: ￥800.00
    ```

  * 使用"{}"表示一个键值表

    ```
    # 客户订单
    date: 2015-02-01
    customer:
      - name: Jai
    items: {no: 1234, descript: cpu, price: ￥800.00}
    ```

  * "?"问号 + 空格表示复杂的键.当键是一个列表或键值表时,就需要使用本符号来标记.

    ```
    # 使用一个列表作为键
    ? [blue, reg, green]: Color
    # 等价于
    ? - blue
      - reg
      - gree
    : Color
    ```

  * 组合表示.每个结构都可以嵌套组成复杂的表示结构.

    ```
    Color:
      - blue
      - red
      - green
    # 相当于 (也是 JSON 的表示)
    {Color: [blue, red, green]}

    div:
      - border: {color: red, width: 2px}
      - background: {color: green}
      - padding: [0, 10px, 0, 10px]

    # 使用缩进表示的键值表与列表项
    items:
      - item: cpu
        model: i3
        price: ￥800.00
      - item: HD
        model: WD
        price: ￥450.00

    # 上面使用 “-” 前导与缩进来表示多个列表项,相当于下面的JSON表示
    items: [{item:cpu, model:i3, price:￥800.00}, {item:HD, model:WD, price: ￥450.00}]
    ```
* **规范六** : 文本块
  * 使用 “\|” 和文本内容缩进表示的块,保留块中已有的回车换行,相当于段落块.

    ```
    # 注意 ":" 与 "|" 之间的空格
    --- # 文档开始
    abc: |
      aabbcc eee
      dd
    ```

  * 使用 “&gt;” 和文本内容缩进表示的块,将块中回车替换为空格,最终连接成一行.

    ```
    # 注意 ":" 与 ">" 之间的空格，另外可以使用空行来分段落
    --- # 文档开始
    abc: >
      aabbcc eee
      dd
    ```

  * 使用定界符“”\(双引号\)、‘’\(单引号\)或回车表示的块,最终表示成一行.

    ```
    yaml:     # 使用回车的多行,最终连接成一行.
      "JSON的语法其实是YAML的子集,
      大部分的JSON文件都可以被YAML的解释器解释."
    ```





